# 일일 개발 보고서 (Daily Development Report)

## 1. 요약 (Summary)
* **ROS2 Action Programming** (비동기 통신 및 피드백 처리 메커니즘 구현)
* **Goal State Machine** (액션 생명주기 및 상태 전이 관리)
* **ROS2 Parameters** (노드 동적 설정 및 Launch 파일 연동)
* **Network Protocol Basics** (OSI 7 계층 이론 및 로봇 통신 기초)

## 2. 일일 목표 및 계획 (Daily Goals & Plan)
* **메인 목표**: ROS2 Action 패키지 생성 및 Fibonacci 수열 예제 구현, Parameter 노드 설정 및 Launch 파일 적용 실습.
* **소요 시간**: 약 7시간 (정규 학습) + 추가 학습 (네트워크 이론).

## 3. 수행 작업 내용 (Work Performed)

### 코드 개발/구현
* **구현 1: Fibonacci Action Server/Client 구현**
  * **패키지 생성**: `py_fibonacci` 패키지 생성 및 `action_tutorials_interfaces` 의존성 설정.
  * [cite_start]**Action Interface**: `Fibonacci.action` 파일 분석 (Goal: `order`, Result: `sequence`, Feedback: `partial_sequence`) [cite: 220-223].
  * **Server 구현**:
    * `execute_callback` 내 연산 로직 구현.
    * [cite_start]`publish_feedback()`을 통한 중간 연산 과정 전송 및 `succeed()` 처리 [cite: 408-422].
  * **Client 구현**:
    * `send_goal_async` 및 `add_done_callback`을 활용한 비동기 요청.
    * [cite_start]`feedback_callback`과 `get_result_callback`을 분리하여 상태 모니터링 구현 [cite: 280-295].

* **구현 2: Parameter Node 동적 설정**
  * **노드 구현**: `py_my_parameter` 패키지 내 `parameter_node.py` 작성.
  * **동적 파라미터**: `declare_parameter` 초기화 및 `add_on_set_parameters_callback`을 이용한 런타임 변경 감지 로직 구현.
  * [cite_start]**Launch 연동**: `parameter.launch.py` 작성 및 `parameters` 옵션을 통한 초기값 주입 테스트 [cite: 684-702].

### 디버깅 및 테스트
* **테스트 환경**: Ubuntu 22.04.5 LTS, ROS2 Humble, Intel i7, GPU GTX 1060, RAM 8GB.
* **이슈 해결**: `setup.py` Entry Point 경로 설정 오류 수정 (상세 내용 섹션 4 참조).

### 학습 및 연구
* [cite_start]**Action 통신 개념**: 서비스(Service)와 달리 장시간 소요되는 작업에 적합하며, 취소(Cancel) 및 피드백(Feedback) 기능이 포함된 비동기 통신 방식임 [cite: 145-146].
* [cite_start]**Goal State Machine**: 액션의 상태가 `ACCEPTED` → `EXECUTING` → `SUCCEEDED`/`CANCELED`/`ABORTED` 로 전이되는 생명주기 학습 [cite: 55, 64-70].
* **Network Theory**: 로봇 통신(DDS)의 기초가 되는 OSI 7 계층 모델 학습 (Data Link, Network, Transport Layer 중심).

## 4. 문제점 및 해결 과정 (Issues & Solutions)

### 문제점 1: Parameter Node 실행 불가 (ModuleNotFoundError)
* **현상**: `ros2 run` 명령 실행 시 에러 발생하며 프로세스 종료.
* **원인**: `setup.py`의 `entry_points` 설정 시, 실행할 모듈 경로를 패키지명과 동일한 파일명으로 잘못 기재함.
  * **오류 코드**: `'parameter_node = my_py_my_parameter.my_py_my_parameter:main'`
  * 실제 파일명은 `parameter_node.py` 이므로 모듈을 찾을 수 없음.
* **해결**: `console_scripts` 항목을 실제 파이썬 파일명에 맞춰 수정 후 재빌드(`colcon build`).
  * [cite_start]**수정 코드**: `'parameter_node = my_py_my_parameter.parameter_node:main'` [cite: 712-716].

## 5. 배운점 및 다음 단계 (Learned & Next Steps)
* **배운점**:
  * **Action Mechanism**: Client와 Server 간의 핸드쉐이킹 과정과 Goal Handle을 이용한 상태 관리 중요성 체득.
  * **Build System**: `setup.py`의 `entry_points`는 ROS2가 실행 파일을 찾는 이정표 역할을 하므로, 파일명과 모듈 경로의 정확한 매핑이 필수적임.
* **다음 단계**:
  * Navigation Stack 연동을 위한 MoveTo Action 심화 실습.
  * OSI 7 계층 이론을 바탕으로 ROS2 DDS(Data Distribution Service) 통신 심화 학습.

## 6. 레퍼런스 (References)
* **Commit Hash**: `Action Package 실습`
* **Screenshots**:
  * [ROS2 Parameter Package Practice](../../src/2025_12_23_1_ROS2_Parameter_Pkg_Practice.png)
  * [OSI 7 Layer & ROS2 Analysis](../../src/2025_12_23_2_OSI7_ROS2_Layer_Analysis.png)
