## 일일 개발 보고서 (Daily Development Report)

**작성자**: MARKCH
**날짜**: 2026-01-05

## 1. 요약 (Summary)
* **핵심 키워드**: ROS2 Component, RQt Plugin, Doosan Robot Simulation, Troubleshooting
* **개요**: ROS2의 시스템 자원 효율화를 위한 Component 개념 학습 및 사용자 정의 GUI 툴(RQt Plugin) 개발 실습 진행. 두산 로봇 시뮬레이션 환경 구축 중 패키지 경로 문제 발생 및 디버깅 수행.

## 2. 일일 목표 및 계획 (Daily Goals & Plan)
* **학습 목표**:
    * ROS2 심화 기능(Component)의 이해 및 프로세스 최적화.
    * RQt Plugin 구조 파악 및 Custom Plugin 제작.
    * 매니퓰레이터 제어 이론(좌표계, 모션) 및 시뮬레이션 실습.
* **예상 소요 시간**: 7시간

## 3. 수행 작업 내용 (Work Performed)
### 코드 개발/구현
- **구현 1: ROS2 Component 활용**
    - **개념**: 여러 노드를 하나의 프로세스에서 실행하여 IPC 비용을 절감하는 Composable Node 및 Container 구조 학습.
    - **실습**: `ros2 component` CLI를 활용한 동적 노드 로드/언로드 및 Launch 파일을 이용한 Composition 실행.
- **구현 2: RQt Plugin 제작**
    - **UI 설계**: PyQt의 Signal-Slot 메커니즘을 적용하여 이벤트 기반 GUI 프로그래밍 구현.
    - **기능 구현**: `rqt_example` 패키지 생성 및 `examples_widget.py` 작성을 통해 Topic Pub/Sub 및 Service Client(LED 제어) 연동.
- **구현 3: 두산 로봇 시뮬레이션 제어**
    - **이론 학습**: 로봇 좌표계(World, Base, Tool 등) 및 모션 명령어(MoveJ, MoveL) 차이점 분석.
    - **제어 로직**: 동기(Sync) vs 비동기(Async) 구동 방식 및 블랜딩 모드(Duplicate/Override) 이해.

### 디버깅 및 테스트
- **테스트 환경**: Ubuntu 22.04.5, ROS2 Humble, CPU i7, GPU 1060, RAM 8GB.
- **환경 구축**: Docker 및 ROS2/DR 패키지 설치 스크립트 실행.
- **실행 이슈**: 두산 로봇 RViz 실행을 위한 런치 파일 실행 시도 중 에러 발생 (상세 내용은 4번 항목 기술).

### 학습 및 연구
- **특이점(Singularity)**: 다관절 로봇 이동 중 역기구학 해를 구할 수 없는 위치에 대한 개념 및 회피 전략 학습.
- **강성 제어(Stiffness)**: 외력에 대한 반응성을 조절하는 Compliance Control과 Force Control의 차이 연구.

## 4. 문제점 및 해결 과정 (Issues & Solutions)
- **문제점 1**: `dsr_bringup2` 패키지 로드 실패
    - **현상**: `ros2 launch dsr_bringup2 dsr_bringup2_rviz.launch.py ...` 명령어 실행 시 `Package 'dsr_bringup2' not found` 에러 발생.
    - **로그 분석**: 검색 경로(`searching: [...]`)에 현재 워크스페이스(`~/ros_260102/ros2_ws/install/...`)만 포함되어 있으며, 실제 패키지가 설치된 경로가 누락되었거나 빌드가 되지 않음.
    - **원인 및 해결**:
        1.  **원인**: 현재 터미널의 워크스페이스(`~/ros_260102/ros2_ws`)와 패키지가 설치된 워크스페이스 경로 불일치 또는 `source` 명령어 미실행.
        2.  **해결 시도**:
            * 해당 패키지가 있는 올바른 `ros2_ws`로 이동 확인.
            * 패키지 존재 여부 확인 후 `colcon build --packages-select dsr_bringup2` 실행.
            * `source install/setup.bash` 재실행 후 런치 파일 재구동 예정.

## 5. 배운점 및 다음 단계 (Learned & Next Steps)
- **배운점**:
    * **MoveJ vs MoveL**: MoveJ는 속도가 빠르고 특이점 영향을 덜 받지만 경로 예측이 어렵고, MoveL은 직선 경로를 유지하지만 특이점에 취약함.
    * **블랜딩(Blending)**: Override 모드는 선행 모션을 덮어씌워 속도 효율을 높이는 반면, Duplicate는 경로 정확성을 유지함.
- **다음 단계**:
    * `dsr_bringup2` 패키지 경로 문제 해결 및 시뮬레이션 정상 구동.
    * GUI 컨트롤러(`cpp_qt_plugin`)를 연동하여 로봇 조인트 및 좌표 제어 실습.

## 6. 레퍼런스 (References)
- **Commit Hash**: component와 두산로보틱스 DART 실습