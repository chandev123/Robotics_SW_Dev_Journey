# 일일 개발 보고서 (Daily Development Report)

## 1. 요약 (Summary)
ROS2 인터페이스(Topic, Service, Action) 통합 패키지(`ex_calculator`) 구현, MultiThreadedExecutor 기반의 병렬 콜백 처리 구조 분석, 빌드 시스템 리소스 최적화 필요성 확인.

## 2. 일일 목표 및 계획 (Daily Goals & Plan)
* **메인 학습**: ROS2 인터페이스 프로그래밍 응용 (총 7시간)
  * Topic, Service, Action이 복합적으로 상호작용하는 `ex_calculator` 패키지 설계 및 구현
* **추가 학습**: ROS2 기초반 내용 보충 및 트러블 슈팅 (1.5시간)

## 3. 수행 작업 내용 (Work Performed)
### 코드 개발/구현
* **구현 1: 복합 노드(`calculator`) 아키텍처 구현**
  * 단일 노드 내에서 3가지 통신 인터페이스 동시 수행 로직 작성:
    * **Topic Subscriber**: `arithmetic_argument` 토픽을 통해 연산 인자(a, b) 수신.
    * **Service Server**: `arithmetic_operator` 서비스 요청(연산자) 처리 및 결과 반환.
    * **Action Server**: `arithmetic_checker` 액션 목표(누적 합계) 수신, 피드백 발행, 최종 결과 반환.
* **구현 2: 병렬 처리를 위한 Executor 구성**
  * 4개의 콜백 함수(Sub, Srv, Action 관련)가 동시에 원활히 작동하도록 `MultiThreadedExecutor` 도입.
  * `ReentrantCallbackGroup`을 적용하여 단일 스레드에서의 블로킹 현상 방지 및 병렬 실행 환경 구성.

### 디버깅 및 테스트
* **테스트 환경**: Ubuntu 22.04.5, ROS2 Humble, CPU i7, GPU 1060, **RAM 8GB**
* **이슈 해결**: `colcon build` 수행 중 시스템 프리징 및 재부팅 현상 발생.
  * 빌드 프로세스 중 과도한 메모리 점유가 원인으로 추정됨.

### 학습 및 연구
* **인터페이스 간 동기/비동기 특성 비교**:
  * Topic(비동기/단방향), Service(동기/양방향), Action(비동기+동기 복합)의 차이를 `ex_calculator` 예제를 통해 체득.
* **Action Server 로직**:
  * 목표 수신(`execute_checker`) 후, 연산 결과가 목표치에 도달할 때까지 피드백(`publish_feedback`)을 반복 전송하는 루프 구조 학습.

## 4. 문제점 및 해결 과정 (Issues & Solutions)
* **문제점 1**: `colcon build` 실행 시 Ubuntu 시스템 다운 및 재부팅 에러 발생.
  * **원인 및 해결**:
    * **원인**: 병렬 빌드 시 8GB RAM 용량 초과로 인한 Swap 메모리 부족 또는 시스템 리소스 고갈 추정.
    * **해결(단기)**: 단일 패키지 빌드(`--packages-select`)로 부하 분산 시도.
    * **해결(장기)**: `htop`, `nvtop` 등 하드웨어 병목 확인 툴 검색 및 설치 예정. 추가 램 장착을 위한 하드웨어 호환성 확인 계획 수립.

## 5. 배운점 및 다음 단계 (Learned & Next Steps)
* **배운점**:
  * 단일 노드에서 다수의 통신 인터페이스를 운용할 때, `SingleThreadedExecutor`의 한계와 `MultiThreadedExecutor`의 필요성 이해.
  * Action Interface의 `Goal`, `Feedback`, `Result` 흐름을 코드로 구현하며 비동기 통신의 제어권 반환 개념 확립.
* **다음 단계**:
  * 로컬 네트워크 내 다른 PC와의 통신 테스트를 통해 분산 시스템 환경에서의 통합 기능 검증.
  * 시스템 리소스 모니터링 환경 구축 및 하드웨어(RAM) 업그레이드 진행.

## 6. 레퍼런스 (References)
* **Repo**: "ex_calculator 실습을 통한 ROS2의 통합 패키지 구현"
